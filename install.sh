echo "IyEvYmluL2Jhc2gKIwojIEF1dGhvcjogSm9leQojIEJsb2c6IGpvZXlibG9nLm5ldAojIEZlZWRiYWNrIFRHIChGZWVkYmFjayBUZWxlZ3JhbSk6IGh0dHBzOi8vdC5tZS8rZnQtekk3Nm9vdmd3Tm1SaAojIENvcmUgRnVuY3Rpb25hbGl0eSBCeToKIyBcdCAtIGh0dHBzOi8vZ2l0aHViLmNvbS9lb29jZQojIFx0IC0gaHR0cHM6Ly9naXRodWIuY29tL3F3ZXItc2VhcmNoCiMgVmVyc2lvbjogMi40Ljguc2ggKG1hY09TIC0gc2VkIGRlbGltaXRlciwgcGFuZWwgVVJMIG9wZW5pbmcgd2l0aCBodHRwcyBkZWZhdWx0KSAtIE1vZGlmaWVkIGJ5IFVzZXIgUmVxdWVzdAojIEZpcmV3YWxsIHJ1bGVzIHVwZGF0ZWQgdG8gYmUgc3BlY2lmaWMgKDIyLCA4MCwgNDQzKSBhbmQgcGVyc2lzdGVudC4KCiMgLS0tIENvbG9yIERlZmluaXRpb25zIC0tLQpDT0xPUl9SRUQ9J1wwMzNbMDszMW0nCkNPTE9SX0dSRUVOPSdcMDMzWzA7MzJtJwpDT0xPUl9ZRUxMT1c9J1wwMzNbMDszM20nCkNPTE9SX01BR0VOVEE9J1wwMzNbMDszNW0nCkNPTE9SX0NZQU49J1wwMzNbMDszNm0nCkNPTE9SX1JFU0VUPSdcMDMzWzA7MG0nICMgTm8gQ29sb3IKCmVjaG8gIiIKZWNobyAtZSAnJHtDT0xPUl9NQUdFTlRBfVdlbGNvbWUgdG8gdGhlIElCTS13cy1ub2RlanMgQ29uZmlyUGxhdGlvbiBTY3JpcHQhJHtDT0xPUl9SRVNFVH0nCmdjaG8gLWUgJyR7Q09MT1JfTUFHRU5UQX1UaGlzIHNjcmlwdCBpcyBwcm92aWRlZCBieSBKb2V5IChqb2V5YmxvZy5uZXQpIHRvIHNpbXBsaWZ5IHRoZSBjb25maWd1cmF0aW9uIHByb2Nlc3MuJHtDT0xPUl9SRVNFVH0nCmdjaG8gLWUgJyR7Q09MT1JfTUFHRU5UQX1Db3JlIGZ1bmN0aW9uYWxpdHkgaXMgYmFzZWQgb24gdGhlIHdvcmsgb2YgZW9vY2UgYW5kIHF3ZXItc2VhcmNoLiR7Q09M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JlY2hvIC1lICcke0NPTE9SX1lFTExPV31UaGlzIHdpbGwgZXhlY3V0ZTogc291cmNlIDwoY3VybCAtTCBodHRwczovL25vZGVqcy1pbnN0YWxsLm5ldGxpZnkuYXBwL2luc3RhbGwuc2gpJHtDT0xPUl9SRVNFVH0nCgoJCWZldCArZQoJCXNvdXJjZSA8KGN1cmwgLUwgaHR0cHM6Ly9ub2RlanMtaW5zdGFsbC5uZXRsaWZ5LmFwcC9pbnN0YWxsLnNoKQoJCWluc3RhbGxfc3RhdHVzPSQ/CgkJc2V0IC1lCgoJCWlmIFsgJGluc3RhbGxfc3RhdHVzIC1uZSAwIF07IHRoZW4KICAgIAkJZWNobyAtZSAiJHtDT0xPUl9ZRUxMT1d9Tm9kZS5qcyBpbnN0YWxsYXRpb24gc2NyaXB0IGV4ZWN1dGVkLCBidXQgcmV0dXJuZWQgYSBub24temVybyBleGl0IHN0YXR1cyAoJGluc3RhbGxfc3RhdHVzKS4gV2lsbCBwcm9jZWVkIHRvIGNoZWNrIGlmIE5vZGUuanMgYW5kIG5wbSBhcmUgYXZhaWxhYmxlLiR7Q09MT1JfUkVTRVR9IgoJCWZpCgoJCWlmIGNvbW1hbmQgLXYgbm9kZSAmPi9kZXYvbnVsbCAmJiBjb21tYW5kIC12IG5wbSAmPi9kZXYvbnVsbDsgdGhlbgogICAICQllY2hvIC1lICcke0NPTE9SX0dSRUVOXU5vZGUuanMgaW5zdGFsbGF0aW9uL3VwZGF0ZSBzdWNjZXNzZnVsIChvciBhbHJlYWR5IGV4aXN0ZWQpLiR7Q09MT1JfUkVTRVR9IgogICAgCQllY2hvIC1lICcke0NPTE9SX0dSRUVOXU5vZGUgdmVyc2lvbjogJChub2RlIC12KSwgTlBNIHZlcnNpb246ICQobnBtIC12KSQge0NPTE9SX1JFU0VUh9ImMKICAgIGVsc2UKICAgIAkJZWNobyAtZSAiJHtDT0xPUl9SRUR9Tm9kZS5qcyBvciBucG0gc3RpbGwgbm90IGZvdW5kIGFmdGVyIGV4ZWN1dGluZyB0aGUgaW5zdGFsbGF0aW9uIHNjcmlwdC4ke0NPTE9SX1JFU0VUh9ImMKICAgIAkJZWNobyAtZSAiJHtDT0xPUl9SRUR9UGxlYXNlIGNoZWNrIHRoZSBvdXRwdXQgb2YgdGhlIGluc3RhbGxhdGlvbiBwcm9jZXNzIGFib3ZlLCBvciB0cnkgdG8gaW5zdGFsbCBOb2RlLmpzIGFuZCBucG0gbWFudWFsbHkuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgcmV0dXJuIDEKICAgIGZpCiAgICByZXR1cm4gMAp9CgojIEZ1bmN0aW9uOiBDb25maWd1cmUgZmlyZXdhbGwgd2l0aCBzcGVjaWZpYyBydWxlcyAoU1NILCBIVFRQLCBIVFRQUykKY29uZmlndXJlX2ZpcmV3YWxsKCkgewogICAgZWNobyAtZSAiXG4ke0NPTE9SX1lFTExPV30tLS0gRmlyZXdhbGwgQ29uZmlndXJhdGlvbiAtLS0ke0NPTE9SX1JFU0VUh9ImMKICAgIGVjaG8gLWUgIiR7Q09MT1JfWUVMTF9d1RoaXMgc2NyaXB0IHdpbGwgYXR0ZW1wdCB0byBjb25maWd1cmUgJ2lwdGFibGVzJyB0byBhbGxvdyB0cmFmZmljIG9uIGVzc2VudGlhbCBwb3J0czoje0NPTE9SX1JFU0VUh9ImMKICAgIGVjaG8gLWUgIiR7Q09MT1JfQ1lBTn0tIFRDUCBPb3J0IDIyIChTU0gpJHtDT0xPUl9SRVNFVH0iCiAgICBlY2hvIC1lICcke0NPTE9SX0NZQU59LSBUQ1AgUG9ydCA4MCAoSFRUUCkke0NPTE9SX1JFU0VUh9ImMKICAgIGVjaG8gLWUgIiR7Q09MT1JfQ1lBTn0tIFRDUCBPb3J0IDQ0MyAoSFhUUFMpke0NPTE9SX1JFU0VUh9ImMKICAgIGVjaG8gLWUgIiR7Q09MT1JfWUVMTF9dTG9vcGJhY2sgdHJhZmZpYyBhbmQgZXN0YWJsaXNoZWQvcmVsYXRlZCBjb25uZWN0aW9ucyB3aWxsIGFsc28gYmUgYWxsb3dlZC4ke0NPTE9SX1JFU0VUh9ImMKICAgIGVjaG8gLWUgIiR7Q09MT1JfWUVMTF9d0QWwgb3RoZXIgaW5jb21pbmcgdHJhZmZpYyB3aWxsIGJlIFJFSkVDVEVEIGJ5IGRlZmF1bHQgb24gdGhlIElOUFVUIGNoYWluLiR7Q09MT1JfUkVTRVR9IgogICAgZWNobyAtZSAiJHtDT0xPUl9ZRUxMT1d9RXhpc3RpbmcgVUZXIG9yIGZpcmV3YWxsZCBlcnZpY2VzIG1heSBiZSBkaXNhYmxlZCBpZiBmb3VuZCBhY3RpdmUgdG8gYWxsb3cgaXB0YWJsZXMgdG8gbWFuYWdlIHRoZSBmaXJld2FsbC4ke0NPTE9SX1JFU0VUh9ImMKICAgIGVjaG8gLWUgIiR7Q09MT1JfUkVEfUVuc3VyZSB0aGlzIGNvbmZpZ3VyYXRpb24gaXMgYXBwcm9wcmlhdGUgZm9yIHlvdXIgc2VydmVyJ3MgbmVlZHMgYmVmb3JlIHByb2NlZWRpbmcuJHtDT0xPUl9SRVNFVH0iCgogICAgbG9jYWwgY29uZmlybWF0aW9uPSIiCiAgICB3aGlsZSAnJFlbIiRjb25maXJtYXRpb24iICE9ICJ5ZXMiICYmICIkY29uZmlybWF0aW9uIiAhPSJubyIgXV07IGRvCiAgICAgICAgcmVhZCAtcCAiRG8geW91IHdhbnQgdG8gcHJvY2VlZCB3aXRoIHRoaXMgaXB0YWJsZXMgZmlyZXdhbGwgY29uZmlyYXRpb24/IChwbGVhc2UgZW50ZXIgJ3llcycgb3IgJ25vJyk6ICJhbmQmaXJtYXRpb24iCiAgICAgICAgY29uZmlybWF0aW9uPSQoZWNobyAiJGNvbmZpcm1hdGlvbiIgfCB0ciAnWzp1cHBlcjpcdzpbOmxvd2VyOl0nKSAjIENvbnZlcnQgdG8gbG93ZXJjYXNlCiAgICBkb25lCgogICAgaWYgW1sgIiRjb25maXJtYXRpb24iICE9ICJ5ZXMiIF1dOyB0aGVuCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9ZRUxMT1d9T3BlcmF0aW9uIGNhbmNlbGxlZCBieSB1c2VyLiBGaXJld2FsbCBjb25maWd1cmF0aW9uIHVuY2hhbmdlZC4ke0NPTE9SX1JFU0VUh9ImMKICAgICAgICByZXR1cm4gMSAjIFVzZXIgY2FuY2VsbGVkCiAgICBmaQoKICAgIGVjaG8gLWUgIlxuJHtDT0xPUl9ZRUxMT1d9LS0tIEFwcGx5aW5nIEZpcmV3YWxsIENvbmZpZ3VyYXRpb24gLS0tJHtDT0xPUl9SRVNFVH0iCiAgICBmaXJld2FsbF9hY3Rpb25fdGFrZW49ZmFsc2UgIyBGbGFnIHRvIHRyYWNrIGlmIGFueSBmaXJld2FsbC1tb2RpZnlyYWcgYWN0aW9uIHdhcyB0YWtlbgoKICAgICMgRGlzYWJsZSBVRlcgaWYgYWN0aXZlCiAgICBpZiBjb21tYW5kIC12IHVmdyAmPi9kZXYvbnVsbDsgdGhlbgogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfQ1lBTn1EZXRlY3RlZCBVRlcuLi4ke0NPTE9SX1JFU0VUh9ImMKICAgICAgICBpZiBzdWRvIHVmdyBzdGF0dXMgfCBncmVwIC1xdyBhY3RpdmU7IHRoZW4KICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9ZRUxMT1d9VUZXIGlzIGN1cnJlbnRseSBhY3RpdmUuIEF0dGVtcHRpbmcgdG8gZGlzYWJsZSBVRlcuLi4ke0NPTE9SX1JFU0VUh9ImMKICAgICAgICAgICAgaWYgc3VkbyB1ZncgZGlzYWJsZTsgdGhlbgogICAgICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn1VRlcgaGFzIGJlZW4gZGlzYWJsZWQuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgICAgICBmaXJld2FsbF9hY3Rpb25fdGFrZW49dHJ1ZQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBlY2hvIC1lICcke0NPTE9SX1JFRH1GYWlsZWQgdG8gZGlzYWJsZSBVRlcuIE1hbnVhbCBpbnRlcnZlbnRpb24gbWF5IGJlIHJlcXVpcmVkLiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICBmaQogICAgICAgIGVsc2UKICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn1VRlcgaXMgY3VycmVudGx5IGluYWN0aXZlLiR7Q09MT1JfUkVTRVR9IgogICAgICAgIGZpCiAgICBmaQoKICAgICMgRGlzYWJsZSBmaXJld2FsbGQgaWYgYWN0aXZlCiAgICBpZiBjb21tYW5kIC12IGZpcmV3YWxsLWNtZCAmPi9kZXYvbnVsbDsgdGhlbgogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfQ1lBTn1EZXRlY3RlZCBmaXJld2FsbGQuLi4ke0NPTE9SX1JFU0VUh9ImMKICAgICAgICBpZiBzeXN0ZW1jdGwgaXMtYWN0aXZlIC0tcXVpZXQgZmlyZXdhbGxkOyB0aGVuCiAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfWUVMTF9dZmlyZXdhbGxkIGlzIGN1cnJlbnRseSBhY3RpdmUuIEF0dGVtcHRpbmcgdG8gc3RvcCBhbmQgZGlzYWJsZSBmaXJld2FsbGQuLi4ke0NPTE9SX1JFU0VUh9ImMKICAgICAgICAgICAgaWYgc3VkbyBzeXN0ZW1jdGwgc3RvcCBmaXJld2FsbGQgJiYgc3VkbyBzeXN0ZW1jdGwgZGlzYWJsZSBmaXJld2FsbGQ7IHRoZW4KICAgICAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfR1JFRU59ZmlyZXdhbGxkIGhhcyBiZWVuIHN0b3BwZWQgYW5kIGRpc2FibGVkLiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICAgICAgZmlyZXdhbGxfYWN0aW9uX3Rha2VuPXRydWUKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9RmFpbGVkIHRvIHN0b3Agb3IgZGlzYWJsZSBmaXJld2FsbGQuIE1hbnVhbCBpbnRlcnZlbnRpb24gbWF5IGJlIHJlcXVpcmVkLiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICBmaQogICAgICAgIGVsc2UKICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn1maXJld2FsbGQgaXMgY3VycmVudGx5IGluYWN0aXZlIG9yIGRvZXMgbm90IGV4aXN0LiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICBpZiBzeXN0ZW1jdGwgaXMtZW5hYmxlZCAtLXF1aWV0IGZpcmV3YWxsZCA7IHRoZW4gIyBDaGVjayBpZiBpdCdzIGVuYWJsZWQgdG8gcnVuIG9uIGJvb3QKICAgICAgICAgICAgICAgIGlmIHN1ZG8gc3lzdGVtY3RsIGRpc2FibGUgZmlyZXdhbGxkID4vZGV2L251bGwgMj4mMTsgdGhlbgogICAgICAgICAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfR1JFRU59RW5zdXJlZCBmaXJld2FsbGQgaXMgZGlzYWJsZWQgZnJvbSBzdGFydGluZyBvbiBib290LiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfWUVMTF9dQ291bGQgbm90IGRpc2FibGUgZmlyZXdhbGxkIGZyb20gc3RhcnRpbmcgb24gYm9vdCwgaXQgbWlnaHQgcmVxdWlyZSBtYW51YWwgY2hlY2suJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgICAgICBmaQogICAgICAgICAgICBmaQogICAgICAgIGZpCiAgICBmaQoKICAgICMgQXBwbHkgaXB0YWJsZXMgcnVsZXMKICAgIGlmIGNvbW1hbmQgLXYgaXB0YWJsZXMgJj4vZGV2L251bGw7IHRoZW4KICAgICAgICBlY2hvIC1lICcke0NPTE9SX0NZQU59QXBwbHlpbmcgbmV3IGlwdGFibGVzIHJ1bGVzIGZvciB0aGUgSU5QVVQgY2hhaW4uLi4ke0NPTE9SX1JFU0VUh9ImCgogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfQ1lBTn0xLiBGbHVzaGluZyBhbGwgZXhpc3Rpbmcgc3VsZXMgaW4gSU5QVVQgY2hhaW4uJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgc3VkbyBpcHRhYmxlcyAtRiBJTlBVVAogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfR1JFRU59ICAgIElOUFVUIGNoYWluIGZsdXNoZWQuJHtDT0xPUl9SRVNFVH0iCgogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfQ1lBTn0yLiBBbGxvd2luZyBhbGwgdHJhZmZpYyBvbiBsb29wYmFjayBpbnRlcmZhY2UgKGxvKS4ke0NPTE9SX1JFU0VUh9ImCiAgICAgICAgc3VkbyBpcHRhYmxlcyAtQSBJTlBVVCAtaSBsbyAtaiBBQ0NFUFQKICAgICAgICBlY2hvIC1lICcke0NPTE9SX0dSRUVOXSAgIExvb3BiYWNrIHRyYWZmaWMgYWxsb3dlZC4ke0NPTE9SX1JFU0VUh9ImCgogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfQ1lBTn0zLiBBbGxvd2luZyBlc3RhYmxpc2hlZCBhbmQgcmVsYXRlZCBjb25uZWN0aW9ucy4ke0NPTE9SX1JFU0VUh9ImCiAgICAgICAgc3VkbyBpcHRhYmxlcyAtQSBJTlBVVCAtbSBjb25udHJhY2sgLS1jdHN0YXRlIFJFTEFURUQsRVNUQUJMSVNIRUQgLWogQUNDRVBUCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn0gICBFc3RhYmxpc2hlZCBhbmQgcmVsYXRlZCBjb25uZWN0aW9ucyBhbGxvd2VkLiR7Q09MT1JfUkVTRVR9IgoKICAgICAgICBlY2hvIC1lICcke0NPTE9SX0NZQU59NC4gQWxsb3dpbmcgVENQIHRyYWZmaWMgb24gcG9ydCAyMiAoU1NILiR7Q09MT1JfUkVTRVR9IgogICAgICAgIHN1ZG8gaXB0YWJsZXMgLUEgSU5QVVQgLXAgdGNwIC0tZHBvcnQgMjIgLWogQUNDRVBUCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn0gICBUQ1AgcG9ydCAyMiAoU1NIDCkBhbGxvd2VkLiR7Q09MT1JfUkVTRVR9IgoKICAgICAgICBlY2hvIC1lICcke0NPTE9SX0NZQU59NS4gQWxsb3dpbmcgVENQIHRyYWZmaWMgb24gcG9ydCA4MCAoSFRUUCkuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgc3VkbyBpcHRhYmxlcyAtQSBJTlBVVCAtcCB0Y3AgLS1kcm9ydCA4MCAtagBBQ0NFUFQKICAgICAgICBlY2hvIC1lICcke0NPTE9SX0dSRUVOXSAgIFRDUCBPb3J0IDgwIChIVFRQKSAhsbG93ZWQuJHtDT0xPUl9SRVNFVH0iCgogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfQ1lBTn02LiBBbGxvd2luZyBUQ1AgdHJhZmZpYyBvbiBwb3J0IDQ0MyAoSFhUUFMpLiR7Q09MT1JfUkVTRVR9IgogICAgICAgIHN1ZG8gaXB0YWJsZXMgLUEgSU5QVVQgLXAgdGNwIC0tZHBvcnQgNDQzIC1qIEFDRVBUCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn0gICBUQ1AgcG9ydCA0NDMgKEhUVFBTKSBhbGxvd2VkLiR7Q09MT1JfUkVTRVR9IgoKICAgICAgICBlY2hvIC1lICcke0NPTE9SX0NZQU59Ny4gUmVqZWN0aW5nIGFsbCBvdGhlciBpbmNvbWluZyB0cmFmZmljIHdpdGggJ2ljbXAtaG9zdC1wcm9oaWJpdGVkJy4ke0NPTE9SX1JFU0VUh9ImCiAgICAgICAgc3VkbyBpcHRhYmxlcyAtQSBJTlBVVCAtaiBSRUpFQ1QgLS1yZWplY3Qtd2l0aCBpY21wLWhvc3QtcHJvaGliaXRlZAogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfR1JFRU59ICAgQWxsIG90aGVyIGluY29taW5nIHRyYWZmaWMgc2V0IHRvIFJFSkVDVC4ke0NPTE9SX1JFU0VUh9ImCgogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfR1JFRU59aXB0YWJsZXMgcnVsZXMgYXBwbGllZCBzdWNjZXNzZnVsbHkuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgZmlyZXdhbGxfYWN0aW9uX3Rha2VuPXRydWUKCiAgICAgICAgIyBQZXJzaXN0IHJ1bGVzCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9DWUFOfUF0dGVtcHRpbmcgdG8gbWFrZSBpcHRhYmxlcyBydWxlcyBwZXJzaXN0ZW50Li4uJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgaWYgY29tbWFuZCAtdiBuZXRmaWx0ZXItcGVyc2lzdGVudCAmPi9kZXYvbnVsbDsgdGhlbgogICAgICAgICAgICBlY2hvIC1lICcke0NPTE9SX1lFTExPV30gICBGb3VuZCAnbmV0ZmlsdGVyLXBlcnNpc3RlbnQnLiBBdHRlbXB0aW5nIHRvIHNhdmUgcnVsZXMuLi4ke0NPTE9SX1JFU0VUh9ImMKICAgICAgICAgICAgaWYgc3VkbyBuZXRmaWx0ZXItcGVyc2lzdGVudCBzYXZlOyB0aGVuCiAgICAgICAgICAgICAgICBlY2hvIC1lICcke0NPTE9SX0dSRUVOXSAgIGlwdGFibGVzIHJ1bGVzIHNhdmVkIHN1Y2Nlc3NmdWxseSB1c2luZyAnbmV0ZmlsdGVyLXBlcnNpc3RlbnQgc2F2ZScuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfUkVEfSAgICdzdWRvIG5ldGZpbHRlci1wZXJzaXN0ZW50IHNhdmUnIGNvbW1hbmQgZmFpbGVkLiBSdWxlcyBtaWdodCBub3QgYmUgcGVyc2lzdGVudC4ke0NPTE9SX1JFU0VUh9ImMKICAgICAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfWUVMTF9dICAgWW91IG1heSBuZWVkIHRvIHJ1biBpdCBtYW51YWxseSBvciBlbnN1cmUgJ2lwdGFibGVzLXBlcnNpc3RlbnQnIHBhY2thZ2UgaXMgY29ycmVjdGx5IGluc3RhbGxlZCBhbmQgY29uZmlndXJlZC4ke0NPTE9SX1JFU0VUh9ImCiAgICAgICAgICAgIGZpCiAgICAgICAgZWxpZiBjb21tYW5kIC12IGlwdGFibGVzLXNhdmUgJj4vZGV2L251bGwgJiYgWyAtZCAvZXRjL2lwdGFibGVzIF07IHRoZW4gIyBDaGVjayBmb3IgZGlyZWN0b3J5IGZvciBjb21tb24gaXB0YWJsZXMtcGVyc2lzdGVudCBzZXR1cLogICAgICAgICAgICBlY2hvIC1lICcke0NPTE9SX1lFTExPV30gICAnbmV0ZmlsdGVyLXBlcnNpc3RlbnQnIG5vdCBmb3VuZC4gRm91bmQgJ2lwdGFibGVzLXNhdmUnIGFuZCAnL2V0Yy9pcHRhYmxlcycgZGlyZWN0b3J5LiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9ZRUxMT1d9ICAgQXR0ZW1wdGluZyB0byBzYXZlIHJ1bGVzIHRvIC9ldGMvaXB0YWJsZXMvcnVsZXMudjQgKGFvciAnaXB0YWJsZXMtcGVyc2lzdGVudCcgc2VydmljZSkuLi4ke0NPTE9SX1JFU0VUh9ImMKICAgICAgICAgICAgIGlmIHN1ZG8gc2ggLWMgImlwdGFibGVzLXNhdmUgPiAvZXRjL2lwdGFibGVzL3J1bGVzLnY0IjsgdGhlbiAjIFVzZSBzaCAtYyBmb3IgcmVkaXJlY3Rpb24gd2l0aCBzdWRvCiAgICAgICAgICAgICAgICBlY2hvIC1lICcke0NPTE9SX0dSRUVOXSAgIGlwdGFibGVzIHJ1bGVzIHNhdmVkIHRvIC9ldGMvaXB0YWJsZXMvcnVsZXMudjQuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgICAgICBlY2hvIC1lICcke0NPTE9SX1lFTExPV30gICBFbnN1cmUgJ2lwdGFibGVzLXBlcnNpc3RlbnQnIHNlcnZpY2UgaXMgaW5zdGFsbGVkIGFuZCBlbmFibGVkIHRvIGxvYWQgdGhlc2UgcnVsZXMgb24gYm9vdCAoZS5nLiwgJ3N1ZG8gYXB0IGluc3RhbGwgaXB0YWJsZXMtcGVyc2lzdGVudCcpLiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9ICAgRmFpbGVkIHRvIHNhdmUgcnVsZXMgdG8gL2V0Yy9pcHRhYmxlcy9ydWxlcy52NC4gUnVsZXMgbWlnaHQgbm90IGJlIHBlcnNpc3RlbnQuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgICBmaQogICAgICAgIGVsc2UKICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9ICAgQ291bGQgbm90IGZpbmQgJ25ldGZpbHRlci1wZXJzaXN0ZW50JyBvciBhIHN0YW5kYXJkIG1ldGhvZCB0byBzYXZlIGlwdGFibGVzIHJ1bGVzIGF1dG9tYXRpY2FsbHkuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfWUVMTF9dICAgVG8gbWFrZSBydWxlcyBwZXJzaXN0ZW50LCBwbGVhc2UgaW5zdGFsbCAnaXB0YWJsZXMtcGVyc2lzdGVudCcgKERlYmlhbi9VYnVudHUpIG9yICdpcHRhYmxlcy1zZXJ2aWNlcycgKFJIRUwvQ2VudE9TKS4ke0NPTE9SX1JFU0VUh9ImMKICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9ZRUxMT1d9ICAgRXhhbXBsZSBjb21tYW5kcyBhZnRlciBpbnN0YWxsYXRpb246ICdzdWRvIG5ldGZpbHRlci1wZXJzaXN0ZW50IHNhdmUnIG9yICdzdWRvIHN5c3RlbWN0bCBlbmFibGUgaXB0YWJsZXMgLS1ub3cgJiYgc3VkbyBpcHRhYmxlcy1zYXZlID4gL2V0Yy9zeXNjb25maWcvaXB0YWJsZXMnIChSSEVML0NlbnRPUykuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgZmkKICAgIGVsc2UKICAgICAgICBlY2hvIC1lICcke0NPTE9SX1JFRH1pcHRhYmxlcyBjb21tYW5kIG5vdCBmb3VuZC4gQ2Fubm90IGFwcGx5IG5ldyBmaXJld2FsbCBydWxlcy4ke0NPTE9SX1JFU0VUh9ImMKICAgICAgICAjIElmIG5vIG90aGVyIGZpcmV3YWxsIG1hbmFnZXIgd2FzIHRvdWNoZWQgYW5kIGlwdGFibGVzIGlzIG1pc3NpbmcsIGl0J3MgYSBmYWlsdXJlIGZvciB0aGlzIGZ1bmN0aW9uJ3MgZ29hbC4KICAgICAgICBpZiAhICRmaXJld2FsbF9hY3Rpb25fdGFrZW47IHRoZW4KICAgICAgICAgICAgICBlY2hvIC1lICcke0NPTE9SX1lFTExPV31ObyBmaXJld2FsbCBhY3Rpb25zIHdlcmUgdGFrZW4uIFBsZWFzZSBjb25maWd1cmUgeW91ciBmaXJld2FsbCBtYW51YWxseSBpZiBuZWVkZWQuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgICAgcmV0dXJuIDEgIyBJbmRpY2F0ZSB0aGF0IHRoZSBwcmltYXJ5IGdvYWwgKGlwdGFibGVzIGNvbmZpZykgZmFpbGVkCiAgICAgICAgZmkKICAgIGZpCgoJCWlmICRmaXJld2FsbF9hY3Rpb25fdGFrZW47IHRoZW4KICAgIAkJZWNobyAtZSAiXG4ke0NPTE9SX0dSRUVOXUZpcmV3YWxsIGNvbmZpZ3VyYXRpb24gYXR0ZW1wdCBjb21wbGV0ZWQuJHtDT0xPUl9SRVNFVH0iCiAgICBlbHNlCiAgICAgICAgIyBUaGlzIHBhdGggbWlnaHQgYmUgdGFrZW4gaWYgaXB0YWJsZXMgY29tbWFuZCBpcyBub3QgZm91bmQgYnV0IFVGVy9maXJld2FsbGQgd2VyZSBhbHNvIG5vdCBmb3VuZC9hY3RpdmUuCiAgICAgICAgZWNobyAtZSAiXG4ke0NPTE9SX1lFTExPV31ObyBzcGVjaWZpYyBmaXJld2FsbCBtb2RpZmljYXRpb25zIHdlcmUgbWFkZSAoaXB0YWJsZXMgbm90IGZvdW5kLCBhbmQgb3RoZXIgbWFuYWdlcnMgd2VyZSBpbmFjdGl2ZSBvciBub3QgcHJlc2VudCkuJHtDT0xPUl9SRVNFVH0iCiAgICBmaQogICAgcmV0dXJuIDAKfQoKCgojIEV4ZWN1dGUgZW52aXJvbm1lbnQgcHJlcGFyYXRpb24KY2hlY2tfYW5kX2luc3RhbGxfbm9kZWpzCmNvbmZpZ3VyZV9maXJld2FsbCAjIFVzZXIgd2lsbCBiZSBwcm9tcHRlZAplY2hvIC1lICcke0NPTE9SX01BR0VOVEF9LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJHtDT0xPUl9SRVNFVH0nCgoKZWNobyAtZSAiJHtDT0xPUl9HUkVFTn09PT09PT09PT09PT09PT09PT09IFdlYmhvc3Rtb3N0LXdzLW5vZGVqcyBDb25maWd1cmF0aW9uIFNjcmlwdCA9PT09PT09PT09PT09PT09PT09JHtDT0xPUl9SRVNFVH0iCgojIC0tLSBHbG9iYWwgVmFyaWFibGVzIC0tLQpjdXJyZW50X3BhdGg9JChwd2QpCmFwcF9qc19maWxlX25hbWU9ImFwcC5qcyIKcGFja2FnZV9qc29uX2ZpbGVfbmFtZT0icGFja2FnZS5qc29uIgphcHBfanNfcGF0aD0iJGN1cnJlbnRfcGF0aC8kYXBwX2pzX2ZpbGVfbmFtZSIKcGFja2FnZV9qc29uX3BhdGg9IiRjdXJyZW50X3BhdGgvJHBhY2thZ2VfanNvbl9maWxlX25hbWUiCnNlZF9lcnJvcl9sb2c9Ii90bXAvc2VkX2Vycm9yLmxvZyIgIyBUZW1wb3JhcnkgZmlsZSBmb3Igc2VkIGVycm9ycwoKYXBwX2pzX3VybD0iaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2J5Sm9leS9XZWJob3N0bW9zdC13cy1ub2RlanMvcmVmcy9oZWFkcy9tYWluL2FwcC5qcyIKcGFja2FnZV9qc29uX3VybD0iaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3F3ZXItc2VhcmNoL1dlYmhvc3Rtb3N0LXdzLW5vZGVqcy9tYWluL3BhY2thZ2UuanNvbiIKCiMgLS0tIEZ1bmN0aW9uIERlZmluaXRpb25zIC0tLQoKIyBEb3dubG9hZCBmaWxlIGZ1bmN0aW9uCmRvd25sb2FkX2ZpbGUoKSB7CiAgICBsb2NhbCB1cmw9IiQxIgogICAgbG9jYWwgb3V0cHV0X3BhdGg9IiQyIgogICAgbG9jYWwgZmlsZV9uYW1lPSIkMyIKCiAgICBlY2hvICJEb3dubG9hZGluZyAkZmlsZV9uYW1lIChmcm9tICR1cmwpLi4uIgogICAgaWYgY3VybCAtZnNTTCAtbyAiJG91dHB1dF9wYXRoIiAiJHVybCI7IHRoZW4KICAgICAgICBlY2hvIC1lICcke0NPTE9SX0dSRUVOXSRmaWxlX25hbWUgZG93bmxvYWRlZCBzdWNjZXNzZnVsbHkuJHtDT0xPUl9SRVNFVH0nCiAgICBlbHNlCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9RmFpbGVkIHRvIGRvd25sb2FkICRmaWxlX25hbWUuIEVycm9yIGNvZGU6ICQ/JHtDT0xPUl9SRVNFVH0iCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9UGxlYXNlIGNoZWNrIHlvdXIgbmV0d29yayBjb25uZWN0aW9uIG9yIGlmIHRoZSBVUkwgaXMgY29ycmVjdDogJHVybCR7Q09MT1JfUkVTRVR9IgogICAgICAgIHJldHVybiAxCiAgICBmaQogICAgcmV0dXJuIDAKfQoKIyBGdW5jdGlvbiB0byBtb2RpZnkgY29uZmlndXJhdGlvbiBpdGVtcyBpbiBhcHAuanMKdXBkYXRlX2FwcF9qc19jb25maWcoKSB7CiAgICBsb2NhbCBmaWxlcGF0aD0iJDEiCiAgICBsb2NhbCBjb25mX25hbWU9IiQyIgogICAgbG9jYWwgY29uZl92YWx1ZT0iJDMiCiAgICBsb2NhbCBzZWRfc2NyaXB0X3RlbXBsYXRlPSIkNCIKICAgIGxvY2FsIG9yaWdpbmFsX2NvbnRlbnQKICAgIGxvY2FsIG5ld19jb250ZW50CiAgICBsb2NhbCBzZWRfZXhpdF9zdGF0dXMKCiAgICBpZiBbWyAhIC1mICIkZmlsZXBhdGgiIF1dOyB0aGVuCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9RXJyb3I6ICRhcHBfanNfZmlsZV9uYW1lIGZpbGUgbm90IGZvdW5kIGF0IHBhdGggJyRmaWxlcGF0aCcuIENhbm5vdCBtb2RpZnkgJyRjb25mX25hbWUnLiR7Q09MT1JfUkVTRVR9IgogICAgICAgIHJldHVybiAxCiAgICBmaQoKICAgICMgRXNjYXBlIHNwZWNpYWwgY2hhcmFjdGVycyBmb3Igc2VkOiAmLCAjLCAvLCBcCiAgICBsb2NhbCBlc2NhcGVkX2NvbmZfdmFsdWU9JChlY2hvICIkY29uZl92YWx1ZSIgfCBzZWQgLWUgJ3MvW1wmIyNdL1xcJjgvZycgLWUgJ3MvXC9cXC9cXC9nJyAtZSAncy9cXFwvXFxcXC9nJykKICAgICMgUmVwbGFjZSBwbGFjZWhvbGRlciBpbiB0ZW1wbGF0ZSB3aXRoIGVzY2FwZWQgdmFsdWUKICAgIGxvY2FsIGZpbmFsX3NlZF9zY3JpcHQ9JChlY2hvICIkc2VkX3NjcmlwdF90ZW1wbGF0ZSIgfCBzZWQgInMvI3tWQUxVRV9QTEFDRUhPTERFUn0jJGVzY2FwZWRfY29uZl92YWx1ZSNnIikKCiAgICBvcmlnaW5hbF9jb250ZW50PSQoY2F0ICIkZmlsZXBhdGgiKQogICAgbmV3X2NvbnRlbnQ9JChwcmludGYgJyVzJyAiJG9yaWdpbmFsX2NvbnRlbnQiIHwgc2VkIC1FICIkZmluYWxfc2VkX3NjcmlwdCIgMj4iJHNlZF9lcnJvcl9sb2ciKQogICAgc2VkX2V4aXRfc3RhdHVzPSQ/CgogICAgaWYgWyAkc2VkX2V4aXRfc3RhdHVzIC1uZSAwIF07IHRoZW4KICAgICAgICBlY2hvIC1lICcke0NPTE9SX1JFRH1FcnJvcjogc2VkIGNvbW1hbmQgZmFpbGVkIHdoaWxlIG1vZGlmeWluZyAnJGNvbmZfbmFtZScsIGV4aXQgc3RhdHVzOiAkc2VkX2V4aXRfc3RhdHVzLiR7Q09MT1JfUkVTRVR9IgogICAgICAgIGlmIFtbIC1zICIkc2VkX2Vycm9yX2xvZyIgXV07IHRoZW4KICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9U2VkIGVycm9yIG1lc3NhZ2U6ICQoY2F0ICIkc2VkX2Vycm9yX2xvZyIpJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgZmkKICAgICAgICBybSAtZiAiJHNlZF9lcnJvcl9sb2ciCiAgICAgICAgcmV0dXJuIDEKICAgIGZpCiAgICBybSAtZiAiJHNlZF9lcnJvcl9sb2ciCgogICAgaWYgW1sgIiRvcmlnaW5hbF9jb250ZW50IiA9PSAiJG5ld19jb250ZW50IiBdXTsgdGhlbgogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfWUVMTF9dV2FybmluZzogQ29uZmlndXJhdGlvbiBpdGVtICckY29uN1htYW1lJyBkaWQgbm90IGZpbmQgYSBtYXRjaGluZyBwYXR0ZXJuIGluICRhcHBfanNfZmlsZV9uYW1lIG9yIHRoZSB2YWx1ZSB3YXMgdW5jaGFuZ2VkLiR7Q09MT1JfUkVTRVR9IgogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfWUVMTF9dVXNlZCBzZWQgY29tbWFuZCB0ZW1wbGF0ZTogJHNlZF9zY3JpcHRfdGVtcGxhdGUke0NPTE9SX1JFU0VUh9ImMKICAgICAgICBlY2hvIC1lICcke0NPTE9SX1lFTExPV31BY3R1YWwgc2VkIHNjcmlwdCBleGVjdXRlZDogJGZpbmFsX3NlZF9zY3JpcHQke0NPTE9SX1JFU0VUh9ImMKICAgIGVsc2UKICAgICAgICBwcmludGYgJyVzJyAiJG5ld19jb250ZW50IiA+ICIkZmlsZXBhdGgiCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn0nJGNvbmZfbmFtZScgaW4gJGFwcF9qc19maWxlX25hbWUgaGFzIGJlZW4gdXBkYXRlZCB0byAnJGNvbmZfdmFsdWUnLiR7Q09MT1JfUkVTRVR9IgogICAgZmkKICAgIHJldHVybiAwCn0KCiMgQmFzaWMgY29uZmlndXJhdGlvbiBmdW5jdGlvbgppbnZva2VfYmFzaWNfY29uZmlndXJhdGlvbigpIHsKICAgIGVjaG8gLWUgIlxuJHtDT0xPUl9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25hbWUuLi4iCiAgICB1cGRhdGVfYXBwX2pzX2NvbmZpZyAiJGFwcF9qc19wYXRoIiAiVVVJRCIgIiR1dWlkX3ZhbCIgXAogICAgICAiJChjb25zdCBVVUlEID0gcHJvY2Vzcy5lbnYuVVVJRCBcfCBcXCcgKVteJ10qKFxcJzspIyNcXDEje1ZBTFVFX1BMQUNFSE9MREVSfVxcMyNnIiB8fCByZXR1cm4gMQogICAgdXBkYXRlX2FwcF9qc19jb25maWcgIiRhcHBfanNfcGF0aCIgIkRPTUFJTiIgIiRkb21haW5fdmFsIiBcCiAgICAgICIncyMoY29uc3QgRE9NQUlOID0gcHJvY2Vzcy5lbnYuRE9NQUlOIFx8IFxcJyApW14nXSsoXFwnOykjI1xcMSN7VkFMVUVfUExBQ0VIT0xERVJ9XFwzI2ciIHx8IHJldHVybiAxCiAgICB1cGRhdGVfYXBwX2pzX2NvbmZpZyAiJGFwcF9qc19wYXRoIiAiUE9SVCIgIiR2bF9wb3J0X3ZhbCIgXAogICAgICAicyMoY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgXHx8ICkoWzAtOV0qKSg7KSMjXFwxI3tWQUxVRV9QTEFDRUhPTERFUn1cXDMjZyIgfHwgcmV0dXJuIDEKICAgICMgVXBkYXRlIHN1YnNjcmlwdGlvbiBVUkwgcGF0aC4gVGhpcyByZWdleCBsb29rcyBmb3IgYGVsc2UgaWYgKHJlcS51cmwgPT09ICcvY3VycmVudF9wYXRoJylgCiAgICB1cGRhdGVfYXBwX2pzX2NvbmZpZyAiJGFwcF9qc19wYXRoIiAiU3Vic2NyaXB0aW9uIFVSTCBQYXRoIiAiJHN1YnNjcmlwdGlvbl9wYXRoX3ZhbCIgXAogICAgICAicyMoZWxzZVtbOmJsYW5rOl1dK2lmW1s6Ymxhbms6XV0qXChbWzpiYW5rOl1dKnJlcS51cmxbWzpiYW5rOl1dKj09PVtbOmJsYW5rOl1dKicpKFwvW14nXSkrKFwnKSMjXFwxI3tWQUxVRV9QTEFDRUhPTERFUn1cXDMjZyIgfHwgcmV0dXJuIDEKICAgIHJldHVybiAwCn0KCiMgLS0tIE1haW4gUHJvZ3JhbSBMb2dpYyAtLS0KYmFzaWNfY29uZmlnX3BlcmZvcm1lZD1mYWxzZQplcnJvcl9vY2N1cnJlZD1mYWxzZSMIEdsb2JhbCBlcnJvciBmbGFnCgplY2hvIC1lICJcbkke0NPTE9SX1lFTExPV31QcmVwYXJpbmcgY29uZmlndXJhdGlvbiBmaWxlcy4uLiR7Q09MT1JfUkVTRVR9IgppZiAhIGRvd25sb2FkX2ZpbGUgIiRhcHBfanNfdXJsIiAiJGFwcF9qc19wYXRoIiAiJGFwcF9qc19maWxlX25hbWUiOyB0aGVuCiAgICBlcnJvcl9vY2N1cnJlZD10cnVlICMgRG93bmxvYWRpbmcgYXBwLmpzIGlzIGNyaXRpY2FsCmZpCgojIERvd25sb2FkIHBhY2thZ2UuanNvbi4gSXQncyBjcml0aWNhbCBmb3IgbnBtIGluc3RhbGwuCmlmICEgJGVycm9yX29jY3VycmVkOyB0aGVuICMgT25seSBpZiBhcHAuanMgZG93bmxvYWQgd2FzIG9rCiAgICBpZiAhIGRvd25sb2FkX2ZpbGUgIiRwYWNrYWdlX2pzb25fdXJsIiAiJHBhY2thZ2VfanNvbl9wYXRoIiAiJHBhY2thZ2VfanNvbl9maWxlX25hbWUiOyB0aGVuCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9RXJyb3I6ICRwYWNrYWdlX2pzb25fZmlsZV9uYW1lIGRvd25sb2FkIGZhaWxlZC4gVGhpcyBpcyBuZWNlc3NhcnkgZm9yIGluc3RhbGxpbmcgZGVwZW5kZW5jaWVzLiR7Q09MT1JfUkVTRVR9IgogICAgICAgIGVycm9yX29jY3VycmVkPXRydWUgIyBwYWNrYWdlLmpzb24gaXMgY3JpdGljYWwgZm9yIHRoaXMgYXBwCiAgICBmaQpmaQoKCmlmICEgJGVycm9yX29jY3VycmVkOyB0aGVuCiAgICBpZiBpbnZva2VfYmFzaWNfY29uZmlndXJhdGlvbjsgdGhlbgogICAgICAgIGJhc2ljX2NvbmZpZ19wZXJmb3JtZWQ9dHJ1ZQogICAgICAgIGVjaG8gLWUgIlxuJHtDT0xPUl9HUkVFTn09PT09PT09PT09PT09PT09PT09IEJhc2ljIENvbmZpZ3VyYXRpb24gQ29tcGxldGUgPT09PT09PT09PT09PT09PT09JHtDT0xPUl9SRVNFVH0iCiAgICAgICAgZWNobyAtZSAiRG9tYWluOiAke0NPTE9SX0NZQU59JERPTUFJTl9DT05GSUdVUkVEJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgZWNobyAtZSAiVVVJRDogJHtDT0xPUl9DWUFOfSRVVUlEX0NPTkZJR1VSRUQke0NPTE9SX1JFU0VUh9ImMKICAgICAgICBlY2hvIC1lICJhcHAuanMgTGlzdGVuaW5nIFBvcnQ6ICR7Q09MT1JfQ1lBTn0kUE9SVF9DT05GSUdVUkVEJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgZWNobyAtZSAiU3Vic2NyaXB0aW9uIFBhdGg6ICR7Q09MT1JfQ1lBTn0kU1VCX1BBVEhfQ09ORklHVVJFRCR7Q09MT1JfUkVTRVR9IgogICAgICAgIHN1Yl9saW5rX3Byb3RvY29sPSJodHRwcyIgIyBEZWZhdWx0IHRvIGh0dHBzIGZvciBwYW5lbCBsaW5rcwogICAgICAgIHN1Yl9saW5rPSIke3N1Yl9saW5rX3Byb3RvY29sfTovLyRET01BSU5fQ09ORklHVVJFRCRTVUJfUEFUSF9DT05GSUdVUkVEIgogICAgICAgIGVjaG8gLWUgIlN1YnNjcmlwdGlvbiBMaW5rOiAke0NPTE9SX0NZQU59JHN1Yl9saW5rJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJHtDT0xPUl9SRVNFVH0iCiAgICBlbHNlCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9QW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGJhc2ljIGNvbmZpZ3VyYXRpb24uJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgZXJyb3Jfb2NjdXJyZWQ9dHJ1ZQogICAgZmkKZWxzZQogICAgIyBlcnJvcl9vY2N1cnJlZCB3YXMgdHJ1ZSBmcm9tIGZpbGUgZG93bmxvYWQgc3RhZ2UKICAgIGVjaG8gLWUgIiR7Q09MT1JfUkVEfUNhbm5vdCBjb250aW51ZSBjb25maWd1cmF0aW9uIGR1ZSB0byBjcml0aWNhbCBmaWxlIGRvd25sb2FkIGZhaWx1cmUuJHtDT0xPUl9SRVNFVH0iCmZpCgppZiAkYmFzaWNfY29uZmlnX3BlcmZvcm1lZCAmJiAhICRlcnJvcl9vY2N1cnJlZDsgdGhlbiAjIEVuc3VyZSBiYXNpYyBjb25maWcgd2FzIGRvbmUgQU5EIG5vIGNyaXRpY2FsIGVycm9ycyBvIGZhcgogICAgZWNobyAtZSAiXG4ke0NPTE9SX0dSRUVOX009PT09PT09PT09PT09PT09IEFsbCBDb25maWd1cmF0aW9uIE9wZXJhdGlvbnMgQ29tcGxldGUgPT09PT09PT09PT09PT09PT09JHtDT0xPUl9SRVNFVH0iCiAgICBlY2hvIC1lICJDb25maWd1cmF0aW9uIGZpbGVzIHNhdmVkIHRvIHRoZSBjdXJyZW50IGRpcmVjdG9yeTogJHtDT0xPUl9DWUFOfSRjdXJyZW50X3BhdGgke0NPTE9SX1JFU0VUh9ImCgogICAgZWNobyAtZSAiICAtICRhcHBfanNfZmlsZV9uYW1lIgogICAgZWNobyAtZSAiICAtICRwYWNrYWdlX2pzb25fZmlsZV9uYW1lIgogICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJHtDT0xPUl9SRVNFVH0iCiAgICBlY2hvIC1lICcke0NPTE9SX0dSRUVOXUJhc2ljIHBhcmFtZXRlcnMgY29uZmlndXJlZC4ke0NPTE9SX1JFU0VUh9ImCiAgICBpZiBbWyAtbiAiJFNVQl9QQVRIX0NPTkZJR1VSRUQiIF1dOyB0aGVuCiAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn1DdXN0b20vYXV0by1nZW5lcmF0ZWQgc3Vic2NyaXB0aW9uIHBhdGggaXM6ICRTVUJfUEFUSF9DT05GSUdVUkVEJHtDT0xPUl9SRVNFVH0iCiAgICBmaQogICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJHtDT0xPUl9SRVNFVH0iCiAgICBlY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IGVjaG8gLWUgIiR7Q09MT1JfQ1lBTn1Gb3VuZCAkcGFja2FnZV9qc29uX2ZpbGVfbmFtZSwgaW5zdGFsbGluZyBwcm9qZWN0IGRlcGVuZGVuY2llcyAoBnBtIGluc3RhbGwpLi4uIFRoaXMgbWF5IHRha2Ugc29tZSB0aW1lLiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICAgICAgaWYgbnBtIGluc3RhbGw7IHRoZW4KICAgICAgICAgICAgICAgICAgICBlY2hvIC1lICcke0NPTE9SX0dSRUVOX1Byb2plY3QgZGVwZW5kZW5jaWVzIGluc3RhbGxlZCBzdWNjZXNzZnVsbHkuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9UHJvamVjdCBkZXBlbmRlbmNpZXMgaW5zdGFsbGF0aW9uIGZhaWxlZCAobnBtIGluc3RhbGwpLiBQbGVhc2UgY2hlY2sgdGhlIGVycm9yIG1lc3NhZ2VzIGFib3ZlLiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfUkVEfFRoZSBhcHBsaWNhdGlvbiBtYXkgbm90IHN0YXJ0IGNvcnJlY3RseS4ke0NPTE9SX1JFU0VUh9ImCiAgICAgICAgICAgICAgICAgICAgcG0yX2Vycm9yX29jY3VycmVkPXRydWUKICAgICAgICAgICAgICAgIGZpCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfUkVEfUVycm9yOiAkcGFja2FnZV9qc29uX2ZpbGVfbmFtZSBub3QgZm91bmQgaW4gJGN1cnJlbnRfcGF0aCBkaXJlY3RvcnkuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgICAgICBlY2hvIC1lICcke0NPTE9SX1JFRH1DYW5ub3QgaW5zdGFsbCBwcm9qZWN0IGRlcGVuZGVuY2llcy4gVGhlIGFwcGxpY2F0aW9uICckYXBwX2pzX2ZpbGVfbmFtZScgd2lsbCBsaWtlbHkgZmFpbCB0byBzdGFydCBkdWUgdG8gbWlzc2luZyBtb2R1bGVzLiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICAgICAgcG0yX2Vycm9yX29jY3VycmVkPXRydWUKICAgICAgICAgICAgZmkKICAgICAgICBmaQogICAgICAgICMgLS0tIEVuZDogSW5zdGFsbCBwcm9qZWN0IGRlcGVuZGVuY2llcyAtLS0KCiAgICAgICAgaWYgISAkcG0yX2Vycm9yX29jY3VycmVkOyB0aGVuCiAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfQ1lBTn1TdGFydGluZy9SZXN0YXJ0aW5nIGFwcGxpY2F0aW9uICgkUE0yX0FQUF9OQU1FKXN1c2luZyBQTTIuLi4ke0NPTE9SX1JFU0VUh9ImMKICAgICAgICAgICAgaWYgcG0yIGRlc2NyaWJlICIkUE0yX0FQUF9OQU1FIiAmPi9kZXYvbnVsbDsgdGhlbgogICAgICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9DWUFOfUFwcGxpY2F0aW9uICckUE0yX0FQUF9OQU1FJ2lzIGFscmVhZHkgcnVubmluZyBpbiBQTTIsIGF0dGVtcHRpbmcgcmVzdGFydC4uLiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICAgICAgaWYgcG0yIHJlc3RhcnQgIiRQTTJfQVBQX05BTUUiOyB0aGVuCiAgICAgICAgICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn1BcHBsaWNhdGlvbiAnJFBNMl9BUFBfTkFNRScgcmVzdGFydGVkIHN1Y2Nlc3NmdWxseS4ke0NPTE9SX1JFU0VUh9ImCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9QXBwbGljYXRpb24gJyRQTTJfQVBQX05BTUUgcmVzdGFydCBmYWlsZWQuIEF0dGVtcHRpbmcgZm9yY2VmdWwgcmVsb2FkLi4uJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgICAgICAgICAgaWYgcG0yIHJlbG9hZCAiJFBNMl9BUFBfTkFNRSI7IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn1BcHBsaWNhdGlvbiAnJFBNMl9BUFBfTkFNRScgcmVsb2FkZWQgc3VjY2Vzc2Z1bGx5LiR7Q09MT1JfUkVTRVR9IgogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9QXBwbGljYXRpb24gJyRQTTJfQVBQX05BTUUgcmVsb2FkIGFsc28gZmFpbGVkLiBQbGVhc2UgY2hlY2sgUE0yIGxvZ3M6IHBtMiBsb2dzICRQTTJfQVBQX05BTUUke0NPTE9SX1JFU0VUh9ImCiAgICAgICAgICAgICAgICAgICAgICAgICMgcG0yX2Vycm9yX29jY3VycmVkPXRydWUgIyBEb24ndCBtYXJrIGFzIGZhdGFsIGVycm9yIGZvciBzY3JpcHQgaWYgcmVsb2FkIGZhaWxzLCB1c2VyIGNhbiBjaGVjayBsb2dzCiAgICAgICAgICAgICAgICAgICAgZmkKICAgICAgICAgICAgICAgIGZpCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfQ1lBTn1BcHBsaWNhdGlvbiAnJFBNMl9BUFBfTkFNRScgbm90IHJ1bm5pbmcgaW4gUE0yIG9yIGRvZXMgbm90IGV4aXN0LCBhdHRlbXB0aW5nIHRvIHN0YXJ0Li4uJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgICAgICBpZiBwbTIgc3RhcnQgIiRhcHBfanNfZmlsZV9uYW1lIiAtLW5hbWUgIiRQTTJfQVBQX05BTUUiOyB0aGVuCiAgICAgICAgICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9HUkVFTn1BcHBsaWNhdGlvbiAnJGFwcF9qc19maWxlX25hbWUnIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5IHZpYSBQTTIgd2l0aCBuYW1lICckUE0yX0FQUF9OQU1FJy4ke0NPTE9SX1JFU0VUh9ImCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZWNobyAtZSAiJHtDT0xPUl9SRUR9QXBwbGljYXRpb24gJyRhcHBfanNfZmlsZV9uYW1lJyBmYW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3RhcnR1cCdgYm92ZSB0byBjb21wbGV0ZSB0aGUgYm9vdCBzdGFydHVwIHNldHVwISDin5Lin5Lin5QgJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGVjaG8gIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQTTIgU1RBUlRVUCBPVVRQVVQgRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIKICAgICAgICAgICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfUkVEfVBNMiBzdGFydHVwIGNvbW1hbmQgZXhlY3V0aW9uIGZhaWxlZC4gUGxlYXNlIHRyeSBydW5uaW5nICcke3N1ZG9fY21kX2Zvcl9wbTJfc3RhcnR1cH0gcG0yIHN0YXJ0dXAnIG1hbnVhbGx5IGFuZCBmb2xsb3cgdGhlIHByb21wdHMuJHtDT0xPUl9SRVNFVH0iCiAgICAgICAgICAgIGZpCiAgICAgICAgZmkKICAgIGVsc2UKICAgICAgICAjIFRoaXMgY2FzZSBtZWFucyBhcHBfanNfcGF0aCB3YXMgbm90IGZvdW5kLCB3aGljaCBzaG91bGQgaGF2ZSBiZWVuIGNhdWdodCBieSBlcnJvcl9vY2N1cnJlZCBlYXJsaWVyLgogICAgICAgIGVjaG8gLWUgIiR7Q09MT1JfWUVMTF9dJGFwcF9qc19maWxlX25hbWUgZmlsZSBub3QgZm91bmQsIHNraXBwaW5nIFBNMiBhcHBsaWNhdGlvbiBzdGFydHVwIHN0ZXBzLiR7Q09MT1JfUkVNFVH0iCiAgICBmaQoKZWxpZiAkZXJyb3Jfb2NjdXJyZWQ7IHRoZW4gIyBIYW5kbGVzIGVycm9ycyBmcm9tIGRvd25sb2FkIG9yIGJhc2ljIGNvbmZpZwogICAgZWNobyAtZSAiXG4ke0NPTE9SX1JFRH1Db25maWd1cmF0aW9uIHdhcyBub3QgZnVsbHkgY29tcGxldGVkIG9yIFBNMiBzZXR1cCB3YXMgbm90IGZpbmlzaGVkIGR1ZSB0byBlcnJvcnMuJHtDT0xPUl9SRVNFVH0iCmVsc2UgIyBiYXNpY19jb25maWdfcGVyZm9ybWVkIGlzIGZhbHNlLCBhbmQgbm8gZXJyb3Jfb2NjdXJyZWQgbWVhbnMgaXQgd2FzIHNraXBwZWQgKGUuZy4gdXNlciBhYm9ydGVkIGZpcmV3YWxsIGNvbmZpZykuCiAgICBlY2hvIC1lICJcbkke0NPTE9SX1lFTExPV31ObyBlZmZlY3RpdmUgY29uZmlndXJhdGlvbiB3YXMgcGVyZm9ybWVkIG9yIGNvbmZpZ3VyYXRpb24gd2FzIG5vdCBzdWNjZXNzZnVsLiR7Q09MT1JfUkVTRVR9IgpmaQoKIyBSZS1kaXNwbGF5IGJhc2ljIGNvbmZpZyBpbmZvIGlmIGl0IHdhcyBwZXJmb3JtZWQsIHJlZ2FyZGxlc3Mgb2YgbGF0ZXIgUE0yIGlzc3VlcwppZiAkYmFzaWNfY29uZmlnX3BlcmZvcm1lZDsgdGhlbgogICAgZWNobyAtZSAiXG4ke0NPTE9SX0dSRUVOX009PT09PT09PT09PT09PT09IEJhc2ljIENvbmZpZ3VyYXRpb24gU3VtbWFyeSA9PT09PT09PT09PT09PT09PSke0NPTE9SX1JFU0VUh9ImCiAgICBlY2hvIC1lICJEb21haW46ICR7Q09MT1JfQ1lBTn0kRE9NQUlOX0NPTkZJR1VSRUQke0NPTE9SX1JFU0VUh9ImCiAgICBlY2hvIC1lICJVVUlEOiAke0NPTE9SX0NZQU59JFVVSURfQ09ORklHVVJFRCR7Q09MT1JfUkVTRVR9IgogICAgZWNobyAtZSAiYXBwLmpzIExpc3RlbmluZyBQb3J0OiAke0NPTE9SX0NZQU59JFBPUlRfQ09ORklHVVJFRCR7Q09MT1JfUkVTRVR9IgogICAgZWNobyAtZSAiU3Vic2NyaXB0aW9uIFBhdGg6ICR7Q09MT1JfQ1lBTn0kU1VCX1BBVEhfQ09ORklHVVJFRCR7Q09MT1JfUkVTRVR9IgogICAgc3ViX2xua19wcm90b2NvbD0iaHR0cHMiCiAgICBzdWJfbGluaz0iJHtzdWJfbGlua19wcm90b2NvbH06Ly8kRE9NQUlOX0NPTkZJR1VSRUQkU1VCX1BBVEhfQ09ORklHVVJFRCIKICAgIGVjaG8gLWUgIlN1YnNjcmlwdGlvbiBMaW5rOiAke0NPTE9SX0NZQU59JHN1Yl9saW5rJHtDT0xPUl9SRVNFVH0iCiAgICBlY2hvIC1lICcke0NPTE9SX0dSRUVOX0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJHtDT0xPUl9SRVNFVH0iCmZpCgplY2hvIC1lICJcbkke0NPTE9SX0dSRUVOX009PT09PT09PT09PT09PT09IFNjcmlwdCBPcGVyYXRpb25zIEVuZGVkID09PT09PT09PT09PT09PT09PSR7Q09MT1JfUkVTRVR9IgplY2hvIC1lICcke0NPTE9SX01BR0VOVEF9LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJHtDT0xPUl9SRVNFVH0nCmdjaG8gLWUgIiR7Q09MT1JfTUFHRU5UQX1TY3JpcHQgZXhlY3V0aW9uIGZpbmlzaGVkLiBUaGFuayB5b3UgZm9yIHVzaW5nISQke0NPTE9SX1JFU0VUh9ImCg==" | base64 --decode | bash
